/* Comment role icons and placeholder text management */

/* Global custom properties */
:root {
  --ghco-reveal-transition: 0.15s ease-out;
}

.ghco-comment-role-icon {
  display: inline-block;
  vertical-align: middle;
  line-height: 1;
  user-select: none;
  margin-right: var(--control-small-gap, 4px);
  margin-bottom: 2px;
  width: 16px;
  overflow: hidden;
  transition: width var(--ghco-reveal-transition),
    margin-right var(--ghco-reveal-transition);
}

.ghco-comment-role-icon.ghco-icon-hidden {
  width: 0;
  margin-right: 0;
}

.ghco-comment-role-icon svg {
  display: inline-block;
  vertical-align: middle;
  width: 16px;
  height: 16px;
  transform: scale(1);
  transition: transform var(--ghco-reveal-transition);
}

.ghco-comment-role-icon.ghco-icon-hidden svg {
  transform: scale(0);
}

/* Hide original placeholder and reply button text */
.CommentBox-placeholder,
/* Old files UI */
.review-thread-reply-button.js-toggle-inline-comment-form,
textarea.CommentBox-input::placeholder,
/* New files UI */
button[class*='CompactCommentButton'],
textarea[class*='prc-Textarea']::placeholder {
  color: transparent !important;
  transition: color var(--ghco-reveal-transition);
}

/* Reveal placeholder after JS updates it with role */
.CommentBox-placeholder.ghco-processed,
/* Old files UI */
.review-thread-reply-button.js-toggle-inline-comment-form.ghco-processed,
textarea.CommentBox-input.ghco-placeholder-processed::placeholder,
/* New files UI */
button[class*='CompactCommentButton'].ghco-processed,
textarea[class*='prc-Textarea'].ghco-placeholder-processed::placeholder {
  color: inherit !important;
}
